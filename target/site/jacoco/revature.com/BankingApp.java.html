<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BankingApp.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">project0</a> &gt; <a href="index.source.html" class="el_package">revature.com</a> &gt; <span class="el_source">BankingApp.java</span></div><h1>BankingApp.java</h1><pre class="source lang-java linenums">package revature.com;

import java.util.InputMismatchException;
import java.util.Scanner;

import revature.com.exceptions.AccountNotActiveException;
import revature.com.exceptions.InsufficientBalanceException;
import revature.com.exceptions.InvalidAmountOfMoneyException;
import revature.com.exceptions.NoAccountsExistException;
import revature.com.exceptions.UsernameAlreadyExistsException;
import revature.com.exceptions.UsernameNotFoundException;
import revature.com.exceptions.WrongPasswordException;
import revature.com.models.Role;
import revature.com.models.User;
import revature.com.service.AccountService;
import revature.com.service.UserService;

<span class="nc" id="L18">public class BankingApp {</span>

<span class="nc" id="L20">	private static Scanner scan = new Scanner(System.in);</span>

	public static void main(String[] args) {

<span class="nc" id="L24">		run();</span>

<span class="nc" id="L26">	}</span>

	public static void run() {

<span class="nc" id="L30">		System.out.println(&quot;Welcome to the Bank \n&quot;);</span>

<span class="nc" id="L32">		UserService us = new UserService();</span>
<span class="nc" id="L33">		AccountService as = new AccountService();</span>

<span class="nc" id="L35">		boolean mainRunning = true; // Keeping the main loop to run the program until user quits</span>

<span class="nc bnc" id="L37" title="All 2 branches missed.">		while (mainRunning) {</span>

			try {
				/*
				 * Main menu
				 */
<span class="nc" id="L43">				System.out.println(&quot;==Main Menu== \n\n&quot; + &quot;Please press 1 to register if you are a new customer \n&quot;</span>
						+ &quot;Please press 2 to log-in if you are a current customer \n&quot;
						+ &quot;Please press 3 to exit the Bank&quot;);
<span class="nc" id="L46">				int mainEntry = scan.nextInt();</span>

				/*
				 * Logging-in menu
				 */
<span class="nc bnc" id="L51" title="All 2 branches missed.">				if (mainEntry == 2) {</span>

					// Logging-in for an existing user
<span class="nc" id="L54">					boolean loggedInRunning = true;</span>
<span class="nc bnc" id="L55" title="All 2 branches missed.">					while (loggedInRunning) {</span>
<span class="nc" id="L56">						System.out.println(&quot;==Logging-in Menu== \n\n&quot; + &quot;Please press 1 to enter your credentials \n&quot;</span>
								+ &quot;Please press 2 to go back to the main menu \n&quot;);

						try {

<span class="nc" id="L61">							int loggedEntry = scan.nextInt();</span>

<span class="nc bnc" id="L63" title="All 2 branches missed.">							if (loggedEntry == 1) {</span>
								// logging-in
								try {
<span class="nc" id="L66">									System.out.println(&quot;Enter username&quot;);</span>
<span class="nc" id="L67">									String username = scan.next();</span>

<span class="nc" id="L69">									System.out.println(&quot;Enter password&quot;);</span>
<span class="nc" id="L70">									String password = scan.next();</span>

<span class="nc" id="L72">									User loggedInUser = us.login(username, password);</span>

<span class="nc" id="L74">									Role role = loggedInUser.getRole();</span>
									// Handle roles here and then create each role's menu/portal
<span class="nc bnc" id="L76" title="All 4 branches missed.">									switch (role) {</span>
									/*
									 * Customer menu
									 */
									case Customer:
<span class="nc" id="L81">										boolean cutomerLoggedIn = true;</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">										while (cutomerLoggedIn) {</span>
<span class="nc" id="L83">											System.out.println(</span>
<span class="nc" id="L84">													&quot;==Customer Menu== \n\n&quot; + &quot;Welcome: &quot; + loggedInUser.getUsername()</span>
															+ &quot;\n\nPlease press 1 to view your account(s) \n&quot;
															+ &quot;Please press 2 to withdraw from your account \n&quot;
															+ &quot;Please press 3 to deposit to your account \n&quot;
															+ &quot;Please press 4 transfer between your accounts \n&quot;
															+ &quot;Please press 5 to go back to the previous menu \n&quot;);

											try {

<span class="nc" id="L93">												int customerEntry = scan.nextInt();</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">												if (customerEntry == 1) {</span>
													// Print account owned by the customer
<span class="nc" id="L96">													System.out.println(&quot;======Your Account(s)======&quot;);</span>
													try {
<span class="nc" id="L98">														as.viewOwnerAccListById(loggedInUser.getId());</span>
<span class="nc" id="L99">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L100">														System.out.println(e.getMessage());</span>
<span class="nc" id="L101">													}</span>
<span class="nc" id="L102">													System.out.println(&quot;===========================\n&quot;);</span>

<span class="nc bnc" id="L104" title="All 2 branches missed.">												} else if (customerEntry == 2) {</span>
													// Withdraw from account
													try {

<span class="nc" id="L108">														System.out.println(&quot;Please select account id to withdraw from&quot;);</span>
<span class="nc" id="L109">														int withdrawAccId = scan.nextInt();</span>
<span class="nc" id="L110">														System.out.println(</span>
																&quot;Please specify the amount of money to withdraw&quot;);
<span class="nc" id="L112">														double withdrawAmount = scan.nextDouble();</span>
<span class="nc" id="L113">														double newBalance = as.withdraw(withdrawAmount, withdrawAccId,</span>
<span class="nc" id="L114">																loggedInUser.getId());</span>
<span class="nc" id="L115">														System.out.println(&quot;Withdraw was successful. New balance is: &quot;</span>
																+ newBalance + &quot;\n&quot;);

<span class="nc" id="L118">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L119">														System.out.println(e.getMessage());</span>
<span class="nc" id="L120">													} catch (InvalidAmountOfMoneyException e) {</span>
<span class="nc" id="L121">														System.out.println(e.getMessage());</span>
<span class="nc" id="L122">													} catch (InsufficientBalanceException e) {</span>
<span class="nc" id="L123">														System.out.println(e.getMessage());</span>
<span class="nc" id="L124">													} catch (AccountNotActiveException e) {</span>
<span class="nc" id="L125">														System.out.println(e.getMessage());</span>
<span class="nc" id="L126">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L127">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L128">														scan.nextLine();</span>
<span class="nc" id="L129">													}</span>

<span class="nc bnc" id="L131" title="All 2 branches missed.">												} else if (customerEntry == 3) {</span>
													// Deposit to an account
													try {

<span class="nc" id="L135">														System.out.println(&quot;Please select account id to deposit to&quot;);</span>
<span class="nc" id="L136">														int depositAccId = scan.nextInt();</span>
<span class="nc" id="L137">														System.out.println(</span>
																&quot;Please specify the amount of money for deposit&quot;);
<span class="nc" id="L139">														double depositAmount = scan.nextDouble();</span>
<span class="nc" id="L140">														double newBalance = as.deposit(depositAmount, depositAccId,</span>
<span class="nc" id="L141">																loggedInUser.getId());</span>
<span class="nc" id="L142">														System.out.println(&quot;deposit was successful. New balance is: &quot;</span>
																+ newBalance + &quot;\n&quot;);

<span class="nc" id="L145">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L146">														System.out.println(e.getMessage());</span>
<span class="nc" id="L147">													} catch (InvalidAmountOfMoneyException e) {</span>
<span class="nc" id="L148">														System.out.println(e.getMessage());</span>
<span class="nc" id="L149">													} catch (AccountNotActiveException e) {</span>
<span class="nc" id="L150">														System.out.println(e.getMessage());</span>
<span class="nc" id="L151">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L152">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L153">														scan.nextLine();</span>
<span class="nc" id="L154">													}</span>

<span class="nc bnc" id="L156" title="All 2 branches missed.">												} else if (customerEntry == 4) {</span>
													// Transfer between accounts
													try {

<span class="nc" id="L160">														System.out.println(&quot;Please enter account id to transfer from&quot;);</span>
<span class="nc" id="L161">														int accIdFrom = scan.nextInt();</span>
<span class="nc" id="L162">														System.out.println(&quot;Please enter account id to transfer to&quot;);</span>
<span class="nc" id="L163">														int accIdTo = scan.nextInt();</span>
<span class="nc" id="L164">														System.out.println(</span>
																&quot;Please enter amount of money you'd like to transfer&quot;);
<span class="nc" id="L166">														double amount = scan.nextDouble();</span>
<span class="nc" id="L167">														as.transfer(amount, accIdFrom, accIdTo, loggedInUser.getId());</span>
<span class="nc" id="L168">														System.out.println(&quot;The amount of &quot; + amount</span>
																+ &quot; was successfully transferred&quot;);

<span class="nc" id="L171">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L172">														System.out.println(e.getMessage());</span>
<span class="nc" id="L173">													} catch (InvalidAmountOfMoneyException e) {</span>
<span class="nc" id="L174">														System.out.println(e.getMessage());</span>
<span class="nc" id="L175">													} catch (InsufficientBalanceException e) {</span>
<span class="nc" id="L176">														System.out.println(e.getMessage());</span>
<span class="nc" id="L177">													} catch (AccountNotActiveException e) {</span>
<span class="nc" id="L178">														System.out.println(e.getMessage());</span>
<span class="nc" id="L179">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L180">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L181">														scan.nextLine();</span>
<span class="nc" id="L182">													}</span>

<span class="nc bnc" id="L184" title="All 2 branches missed.">												} else if (customerEntry == 5) {</span>
<span class="nc" id="L185">													System.out.println(&quot;Thank you. See you again\n&quot;);</span>
<span class="nc" id="L186">													cutomerLoggedIn = false;</span>
												} else {
<span class="nc" id="L188">													System.out.println(&quot;Invalid input. Please try again\n&quot;);</span>
												}

<span class="nc" id="L191">											} catch (InputMismatchException e) {</span>
<span class="nc" id="L192">												System.out.println(&quot;Invalid input. Please try again\n&quot;);</span>
<span class="nc" id="L193">												scan.nextLine();</span>
<span class="nc" id="L194">											}</span>

										}

										break;

									/*
									 * Employee menu
									 */
									case Employee:
<span class="nc" id="L204">										boolean employeeLoggedIn = true;</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">										while (employeeLoggedIn) {</span>
<span class="nc" id="L206">											System.out.println(&quot;==Employee Menu== \n\n&quot; + &quot;Welcome: &quot;</span>
<span class="nc" id="L207">													+ loggedInUser.getUsername() + &quot; You can do the following:&quot;</span>
													+ &quot;\n\n1=&gt;[print an account by ID]           2=&gt;[print a customer by ID]                  3=&gt;[print a customer by username]  \n&quot;
													+ &quot;4=&gt;[print pending/inActive accounts]  5=&gt;[print approved/active accounts]          6=&gt;[deny account by ID] \n&quot;
													+ &quot;7=&gt;[approve account by ID]            8=&gt;[print customer accounts by customer ID] \n&quot;
													+ &quot;9=&gt;[go back to the previous menu] \n&quot;);

											try {

<span class="nc" id="L215">												int employeeEntry = scan.nextInt();</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">												if (employeeEntry == 1) {</span>

													try {

<span class="nc" id="L220">														System.out.println(&quot;Please enter account id to display&quot;);</span>
<span class="nc" id="L221">														int accId = scan.nextInt();</span>
<span class="nc" id="L222">														System.out.println(&quot;==============Account=============&quot;);</span>
<span class="nc" id="L223">														as.viewAccById(accId);</span>
<span class="nc" id="L224">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L225">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L226">														System.out.println(e.getMessage());</span>
<span class="nc" id="L227">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L228">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L229">														scan.nextLine();</span>
<span class="nc" id="L230">													}</span>

<span class="nc bnc" id="L232" title="All 2 branches missed.">												} else if (employeeEntry == 2) {</span>

													try {

<span class="nc" id="L236">														System.out.println(&quot;Please enter customer id to display&quot;);</span>
<span class="nc" id="L237">														int custId = scan.nextInt();</span>
<span class="nc" id="L238">														System.out.println(&quot;==============Customer=============&quot;);</span>
<span class="nc" id="L239">														us.viewById(custId);</span>
<span class="nc" id="L240">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L241">													} catch (UsernameNotFoundException e) {</span>
<span class="nc" id="L242">														System.out.println(e.getMessage());</span>
<span class="nc" id="L243">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L244">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L245">														scan.nextLine();</span>
<span class="nc" id="L246">													}</span>

<span class="nc bnc" id="L248" title="All 2 branches missed.">												} else if (employeeEntry == 3) {</span>
													try {

<span class="nc" id="L251">														System.out.println(&quot;Please enter customer username to display&quot;);</span>
<span class="nc" id="L252">														String custUN = scan.next();</span>
<span class="nc" id="L253">														System.out.println(&quot;==============Customer=============&quot;);</span>
<span class="nc" id="L254">														us.viewByUsername(custUN);</span>
<span class="nc" id="L255">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L256">													} catch (UsernameNotFoundException e) {</span>
<span class="nc" id="L257">														System.out.println(e.getMessage());</span>
<span class="nc" id="L258">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L259">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L260">														scan.nextLine();</span>
<span class="nc" id="L261">													}</span>

<span class="nc bnc" id="L263" title="All 2 branches missed.">												} else if (employeeEntry == 4) {</span>

													try {

<span class="nc" id="L267">														System.out.println(</span>
																&quot;==============Inactive Accounts=============&quot;);
<span class="nc" id="L269">														as.viewAllDisabledAccounts();</span>
<span class="nc" id="L270">														System.out.println(&quot;======================================&quot;);</span>
<span class="nc" id="L271">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L272">														System.out.println(e.getMessage());</span>
<span class="nc" id="L273">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L274">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L275">														scan.nextLine();</span>
<span class="nc" id="L276">													}</span>

<span class="nc bnc" id="L278" title="All 2 branches missed.">												} else if (employeeEntry == 5) {</span>
													try {

<span class="nc" id="L281">														System.out.println(&quot;==============Active Accounts=============&quot;);</span>
<span class="nc" id="L282">														as.viewAllActiveAccounts();</span>
<span class="nc" id="L283">														System.out.println(&quot;======================================&quot;);</span>
<span class="nc" id="L284">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L285">														System.out.println(e.getMessage());</span>
<span class="nc" id="L286">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L287">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L288">														scan.nextLine();</span>
<span class="nc" id="L289">													}</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">												} else if (employeeEntry == 6) {</span>

													try {

<span class="nc" id="L294">														System.out.println(&quot;Please enter account ID to disable/deny&quot;);</span>
<span class="nc" id="L295">														int accId = scan.nextInt();</span>
<span class="nc" id="L296">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L297">														as.denyAcById(accId);</span>
<span class="nc" id="L298">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L299">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L300">														System.out.println(e.getMessage());</span>
<span class="nc" id="L301">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L302">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L303">														scan.nextLine();</span>
<span class="nc" id="L304">													}</span>
													
<span class="nc bnc" id="L306" title="All 2 branches missed.">												} else if (employeeEntry == 7) {</span>

													try {

<span class="nc" id="L310">														System.out.println(&quot;Please enter account ID to activate/approve&quot;);</span>
<span class="nc" id="L311">														int accId = scan.nextInt();</span>
<span class="nc" id="L312">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L313">														as.approveAcById(accId);</span>
<span class="nc" id="L314">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L315">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L316">														System.out.println(e.getMessage());</span>
<span class="nc" id="L317">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L318">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L319">														scan.nextLine();</span>
<span class="nc" id="L320">													}</span>
													
<span class="nc bnc" id="L322" title="All 2 branches missed.">												} else if (employeeEntry == 8) {</span>

													try {

<span class="nc" id="L326">														System.out.println(&quot;Please enter customer id to display customer's accounts list&quot;);</span>
<span class="nc" id="L327">														int custId = scan.nextInt();</span>
<span class="nc" id="L328">														System.out.println(&quot;==============Customer's Accounts=============&quot;);</span>
<span class="nc" id="L329">														as.viewOwnerAccListById(custId);</span>
<span class="nc" id="L330">														System.out.println(&quot;=================================&quot;);</span>
<span class="nc" id="L331">													} catch (NoAccountsExistException e) {</span>
<span class="nc" id="L332">														System.out.println(e.getMessage());</span>
<span class="nc" id="L333">													} catch (InputMismatchException e) {</span>
<span class="nc" id="L334">														System.out.println(&quot;Invalid input. Please try again \n&quot;);</span>
<span class="nc" id="L335">														scan.nextLine();</span>
<span class="nc" id="L336">													}</span>
													
<span class="nc bnc" id="L338" title="All 2 branches missed.">												} else if (employeeEntry == 9) {</span>
<span class="nc" id="L339">													System.out.println(&quot;Thank you. See you again\n&quot;);</span>
<span class="nc" id="L340">													employeeLoggedIn = false;</span>
												} else {
<span class="nc" id="L342">													System.out.println(&quot;Invalid input. Please try again\n&quot;);</span>
<span class="nc" id="L343">													scan.nextLine();</span>
												}

<span class="nc" id="L346">											} catch (InputMismatchException e) {</span>
<span class="nc" id="L347">												System.out.println(&quot;Invalid input. Please try again\n&quot;);</span>
<span class="nc" id="L348">												scan.nextLine();</span>
<span class="nc" id="L349">											}</span>

										}

										break;
									case Admin:

										
										
<span class="nc" id="L358">										break;</span>
									default:
										break;
									}

<span class="nc" id="L363">								} catch (UsernameNotFoundException e) {</span>
<span class="nc" id="L364">									System.out.println(e.getMessage());</span>

<span class="nc" id="L366">								} catch (WrongPasswordException e) {</span>
<span class="nc" id="L367">									System.out.println(e.getMessage());</span>
<span class="nc" id="L368">								}</span>

<span class="nc bnc" id="L370" title="All 2 branches missed.">							} else if (loggedEntry == 2) {</span>
<span class="nc" id="L371">								loggedInRunning = false;</span>
							} else {
<span class="nc" id="L373">								System.out.println(&quot;Invalid input. Please try again\n&quot;);</span>
							}

<span class="nc" id="L376">						} catch (InputMismatchException e) {</span>
<span class="nc" id="L377">							System.out.println(&quot;Invalid input. Please try again\n&quot;);</span>
<span class="nc" id="L378">							scan.nextLine();</span>
<span class="nc" id="L379">						}</span>

					}

<span class="nc" id="L383">				}</span>

				/*
				 * New user registration menu
				 */
<span class="nc bnc" id="L388" title="All 2 branches missed.">				else if (mainEntry == 1) {</span>

					// Registration for a new customer
<span class="nc" id="L391">					boolean registrationRunning = true;</span>
<span class="nc bnc" id="L392" title="All 2 branches missed.">					while (registrationRunning) {</span>

						try {
<span class="nc" id="L395">							System.out.println(&quot;Enter username&quot;);</span>
<span class="nc" id="L396">							String username = scan.next();</span>

<span class="nc" id="L398">							System.out.println(&quot;Enter password&quot;);</span>
<span class="nc" id="L399">							String password = scan.next();</span>

<span class="nc" id="L401">							User u = new User(username, password, Role.Customer, null);</span>
<span class="nc" id="L402">							us.register(u);</span>
<span class="nc" id="L403">							System.out.println(&quot;Welcome new customer. Use your username: &quot; + username + &quot; to log-in\n&quot;);</span>
<span class="nc" id="L404">							registrationRunning = false; // New user registered</span>
<span class="nc" id="L405">						} catch (UsernameAlreadyExistsException e) {</span>
<span class="nc" id="L406">							System.out.println(e.getMessage());</span>
<span class="nc" id="L407">						}</span>

					}

<span class="nc bnc" id="L411" title="All 2 branches missed.">				} else if (mainEntry == 3) {</span>

<span class="nc" id="L413">					mainRunning = false; // To quit the program</span>
<span class="nc" id="L414">					System.out.println(&quot;\nThank you for using the Bank&quot;);</span>
				} else {

<span class="nc" id="L417">					System.out.println(&quot;invalid input. Please try again \n&quot;);</span>
				}
<span class="nc" id="L419">			} catch (InputMismatchException e) {</span>

<span class="nc" id="L421">				System.out.println(&quot;invalid input. Please try again \n&quot;);</span>
			} finally {

<span class="nc" id="L424">				scan.nextLine();</span>
<span class="nc" id="L425">			}</span>

		}

<span class="nc" id="L429">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>